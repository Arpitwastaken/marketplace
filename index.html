<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Marketplace</title>
  <link href="https://fonts.googleapis.com/css2?family:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #f0f2f5;
      --white: #ffffff;
      --text: #050505;
      --text-secondary: #65676b;
      --text-tertiary: #bcc0c4;
      --accent: #1877f2;
      --accent-hover: #166fe5;
      --green: #42b72a;
      --red: #f02849;
      --border: #dddfe2;
      --shadow: 0 1px 2px rgba(0,0,0,0.1);
      --shadow-lg: 0 2px 8px rgba(0,0,0,0.15);
      --radius: 8px;
      --radius-lg: 12px;
    }
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body {
      background: var(--bg);
      color: var(--text);
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
      line-height: 1.5;
    }
    a { color: var(--accent); text-decoration: none; }
    .header {
      position: fixed; top: 0; left: 0; right: 0;
      height: 60px;
      background: var(--white);
      box-shadow: var(--shadow);
      display: flex;
      align-items: center;
      padding: 0 16px;
      z-index: 100;
    }
    .header-content {
      display: flex;
      align-items: center;
      gap: 16px;
      width: 100%;
      max-width: 1200px;
      margin: 0 auto;
    }
    .logo {
      font-size: 28px;
      font-weight: 700;
      color: var(--white);
      background: var(--accent);
      width: 40px;
      height: 40px;
      border-radius: var(--radius);
      display: flex;
      align-items: center;
      justify-content: center;
      text-decoration: none;
    }
    .search-box { flex: 1; max-width: 400px; position: relative; }
    .search-box input {
      width: 100%;
      padding: 12px 16px 12px 44px;
      background: var(--bg);
      border: none;
      border-radius: 20px;
      font-size: 15px;
    }
    .search-box input:focus { outline: none; }
    .search-icon {
      position: absolute;
      left: 16px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--text-secondary);
    }
    .header-actions { display: flex; gap: 8px; }
    .header-btn {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: var(--bg);
      border: none;
      cursor: pointer;
      font-size: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .header-btn:hover { background: #d8dadf; }
    .create-btn {
      padding: 8px 16px;
      background: var(--accent);
      color: white;
      border: none;
      border-radius: 6px;
      font-weight: 600;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 6px;
    }
    .create-btn:hover { background: var(--accent-hover); }
    .layout {
      display: flex;
      max-width: 1200px;
      margin: 76px auto 0;
      padding: 16px;
      gap: 24px;
    }
    .sidebar { width: 240px; flex-shrink: 0; }
    .sidebar-section { margin-bottom: 24px; }
    .sidebar-title { font-size: 17px; font-weight: 600; padding: 8px 16px; }
    .sidebar-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 10px 16px;
      border-radius: var(--radius);
      cursor: pointer;
    }
    .sidebar-item:hover { background: #e4e6eb; }
    .sidebar-item.active { background: #e7f3ff; }
    .sidebar-icon { width: 24px; height: 24px; font-size: 18px; }
    .main-content { flex: 1; }
    .filters { display: flex; gap: 12px; margin-bottom: 16px; flex-wrap: wrap; }
    .filter-btn {
      padding: 8px 16px;
      background: var(--white);
      border: 1px solid var(--border);
      border-radius: 20px;
      font-size: 15px;
      cursor: pointer;
    }
    .filter-btn:hover { background: #f2f3f5; }
    .categories-bar {
      display: flex;
      gap: 8px;
      margin-bottom: 16px;
      overflow-x: auto;
      padding-bottom: 8px;
    }
    .category-chip {
      padding: 8px 16px;
      background: var(--white);
      border: 1px solid var(--border);
      border-radius: 20px;
      font-size: 14px;
      white-space: nowrap;
      cursor: pointer;
    }
    .category-chip:hover { background: #f2f3f5; }
    .category-chip.active { background: var(--accent); color: white; border-color: var(--accent); }
    .listings-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
      gap: 16px;
    }
    .listing-card {
      background: var(--white);
      border-radius: var(--radius-lg);
      overflow: hidden;
      cursor: pointer;
    }
    .listing-card:hover { box-shadow: var(--shadow-lg); }
    .card-image { position: relative; height: 180px; background: #f0f0f0; }
    .card-image img { width: 100%; height: 100%; object-fit: cover; }
    .card-save {
      position: absolute;
      top: 8px;
      right: 8px;
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background: rgba(255,255,255,0.9);
      border: none;
      cursor: pointer;
      font-size: 16px;
    }
    .card-content { padding: 12px; }
    .card-price { font-size: 17px; font-weight: 700; }
    .card-title { font-size: 15px; margin: 4px 0; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
    .card-meta { font-size: 13px; color: var(--text-secondary); margin-top: 4px; }
    .modal-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.5);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      padding: 20px;
    }
    .modal-overlay.active { display: flex; }
    .modal {
      background: var(--white);
      border-radius: var(--radius-lg);
      width: 100%;
      max-width: 500px;
      max-height: 90vh;
      overflow-y: auto;
    }
    .modal-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 16px 20px;
      border-bottom: 1px solid var(--border);
    }
    .modal-header h2 { font-size: 20px; font-weight: 600; }
    .modal-close {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      border: none;
      background: transparent;
      font-size: 20px;
      cursor: pointer;
    }
    .modal-body { padding: 20px; }
    .form-group { margin-bottom: 16px; }
    .form-label { display: block; font-size: 15px; font-weight: 600; margin-bottom: 6px; }
    .form-input, .form-select, .form-textarea {
      width: 100%;
      padding: 12px;
      border: 1px solid var(--border);
      border-radius: var(--radius);
      font-size: 15px;
    }
    .form-input:focus, .form-select:focus, .form-textarea:focus { outline: none; border-color: var(--accent); }
    .image-upload {
      border: 2px dashed var(--border);
      border-radius: var(--radius);
      padding: 32px;
      text-align: center;
      cursor: pointer;
    }
    .image-upload:hover { border-color: var(--accent); }
    .modal-footer {
      padding: 16px 20px;
      border-top: 1px solid var(--border);
      display: flex;
      gap: 12px;
      justify-content: flex-end;
    }
    .btn { padding: 10px 20px; border-radius: 6px; font-size: 15px; font-weight: 600; cursor: pointer; border: none; }
    .btn-secondary { background: var(--bg); color: var(--text); }
    .btn-primary { background: var(--accent); color: white; }
    .detail-modal { max-width: 700px; }
    .detail-images { position: relative; height: 400px; background: #f0f0f0; }
    .detail-images img { width: 100%; height: 100%; object-fit: cover; }
    .detail-content { padding: 20px; }
    .detail-price { font-size: 28px; font-weight: 700; }
    .detail-title { font-size: 20px; margin: 8px 0; }
    .detail-meta { font-size: 14px; color: var(--text-secondary); margin-bottom: 16px; }
    .detail-actions { display: flex; gap: 12px; margin-top: 20px; }
    .detail-actions .btn { flex: 1; }
    .seller-card {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 16px;
      background: var(--bg);
      border-radius: var(--radius);
      margin-top: 16px;
    }
    .seller-avatar {
      width: 48px;
      height: 48px;
      border-radius: 50%;
      background: var(--accent);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      font-weight: 600;
    }
    .seller-info h4 { font-size: 15px; font-weight: 600; }
    .seller-info p { font-size: 13px; color: var(--text-secondary); }
    .toast {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%) translateY(100px);
      background: #333;
      color: white;
      padding: 14px 24px;
      border-radius: var(--radius);
      font-size: 15px;
      z-index: 10000;
      opacity: 0;
      transition: all 0.3s;
    }
    .toast.show { transform: translateX(-50%) translateY(0); opacity: 1; }
    .empty-state { text-align: center; padding: 60px 20px; }
    .empty-icon { font-size: 64px; margin-bottom: 16px; }
    .empty-title { font-size: 20px; font-weight: 600; margin-bottom: 8px; }
    .empty-desc { color: var(--text-secondary); }
    @media (max-width: 900px) { .sidebar { display: none; } }
    @media (max-width: 600px) { .listings-grid { grid-template-columns: repeat(2, 1fr); gap: 8px; } }
  </style>
</head>
<body>
<header class="header">
  <div class="header-content">
    <a href="#" class="logo" onclick="showPage('browse')">M</a>
    <div class="search-box">
      <span class="search-icon">üîç</span>
      <input type="text" placeholder="Search Marketplace" id="searchInput" oninput="filterListings()">
    </div>
    <div class="header-actions">
      <button class="header-btn" title="Notifications">üîî</button>
      <button class="header-btn" title="Messages">üí¨</button>
      <button class="create-btn" onclick="openCreateModal()">
        <span>+</span>
        <span>Create</span>
      </button>
    </div>
  </div>
</header>
<div class="layout">
  <aside class="sidebar">
    <div class="sidebar-section">
      <div class="sidebar-item active" onclick="showPage('browse')">
        <div class="sidebar-icon">üè†</div>
        <span>Browse</span>
      </div>
      <div class="sidebar-item" onclick="showPage('saved')">
        <div class="sidebar-icon">‚ù§Ô∏è</div>
        <span>Saved</span>
      </div>
      <div class="sidebar-item" onclick="showPage('listings')">
        <div class="sidebar-icon">üì¶</div>
        <span>Your Listings</span>
      </div>
      <div class="sidebar-item">
        <div class="sidebar-icon">üí¨</div>
        <span>Messages</span>
      </div>
    </div>
    <div class="sidebar-section">
      <div class="sidebar-title">Categories</div>
      <div class="sidebar-item" onclick="setCategory('')">
        <div class="sidebar-icon">üè™</div>
        <span>All</span>
      </div>
      <div class="sidebar-item" onclick="setCategory('electronics')">
        <div class="sidebar-icon">üì±</div>
        <span>Electronics</span>
      </div>
      <div class="sidebar-item" onclick="setCategory('vehicles')">
        <div class="sidebar-icon">üöó</div>
        <span>Vehicles</span>
      </div>
      <div class="sidebar-item" onclick="setCategory('clothing')">
        <div class="sidebar-icon">üëï</div>
        <span>Clothing</span>
      </div>
      <div class="sidebar-item" onclick="setCategory('furniture')">
        <div class="sidebar-icon">ü™ë</div>
        <span>Furniture</span>
      </div>
      <div class="sidebar-item" onclick="setCategory('home')">
        <div class="sidebar-icon">üè†</div>
        <span>Home & Garden</span>
      </div>
      <div class="sidebar-item" onclick="setCategory('sports')">
        <div class="sidebar-icon">‚öΩ</div>
        <span>Sports</span>
      </div>
      <div class="sidebar-item" onclick="setCategory('toys')">
        <div class="sidebar-icon">üéÆ</div>
        <span>Toys & Games</span>
      </div>
    </div>
  </aside>
  <main class="main-content">
    <div class="filters">
      <button class="filter-btn" onclick="toggleFilter(this)">üìç Location</button>
      <button class="filter-btn" onclick="toggleFilter(this)">üí∞ Price</button>
      <button class="filter-btn" onclick="toggleFilter(this)">üè∑Ô∏è Category</button>
      <button class="filter-btn" onclick="toggleFilter(this)">‚ú® Condition</button>
    </div>
    <div class="categories-bar" id="categoriesBar">
      <div class="category-chip active" onclick="setCategory('')">All</div>
      <div class="category-chip" onclick="setCategory('electronics')">Electronics</div>
      <div class="category-chip" onclick="setCategory('vehicles')">Vehicles</div>
      <div class="category-chip" onclick="setCategory('clothing')">Clothing</div>
      <div class="category-chip" onclick="setCategory('furniture')">Furniture</div>
      <div class="category-chip" onclick="setCategory('home')">Home & Garden</div>
      <div class="category-chip" onclick="setCategory('sports')">Sports</div>
      <div class="category-chip" onclick="setCategory('toys')">Toys</div>
    </div>
    <div class="listings-grid" id="listingsGrid"></div>
  </main>
</div>
<div class="modal-overlay" id="createModal">
  <div class="modal">
    <div class="modal-header">
      <h2>Create Listing</h2>
      <button class="modal-close" onclick="closeCreateModal()">‚úï</button>
    </div>
    <div class="modal-body">
      <div class="form-group">
        <label class="form-label">Photos</label>
        <div class="image-upload" onclick="document.getElementById('imageInput').click()">
          <div style="font-size:32px;margin-bottom:8px;">üì∑</div>
          <div>Add Photos</div>
        </div>
        <input type="file" id="imageInput" accept="image/*" multiple style="display:none">
      </div>
      <div class="form-group">
        <label class="form-label">Title *</label>
        <input type="text" class="form-input" id="listingTitle" placeholder="What are you selling?">
      </div>
      <div class="form-group">
        <label class="form-label">Price *</label>
        <input type="number" class="form-input" id="listingPrice" placeholder="$0.00">
      </div>
      <div class="form-group">
        <label class="form-label">Category *</label>
        <select class="form-select" id="listingCategory">
          <option value="">Select category</option>
          <option value="electronics">Electronics</option>
          <option value="vehicles">Vehicles</option>
          <option value="clothing">Clothing</option>
          <option value="furniture">Furniture</option>
          <option value="home">Home & Garden</option>
          <option value="sports">Sports</option>
          <option value="toys">Toys & Games</option>
        </select>
      </div>
      <div class="form-group">
        <label class="form-label">Description</label>
        <textarea class="form-textarea" id="listingDescription" placeholder="Describe your item..."></textarea>
      </div>
      <div class="form-group">
        <label class="form-label">Condition</label>
        <select class="form-select" id="listingCondition">
          <option value="">Select condition</option>
          <option value="new">New</option>
          <option value="like_new">Like New</option>
          <option value="good">Good</option>
          <option value="fair">Fair</option>
        </select>
      </div>
      <div class="form-group">
        <label class="form-label">Location</label>
        <input type="text" class="form-input" id="listingLocation" placeholder="City, State">
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-secondary" onclick="closeCreateModal()">Cancel</button>
      <button class="btn btn-primary" onclick="createListing()">Post Listing</button>
    </div>
  </div>
</div>
<div class="modal-overlay" id="detailModal">
  <div class="modal detail-modal">
    <div class="modal-header">
      <h2>Item Details</h2>
      <button class="modal-close" onclick="closeDetail()">‚úï</button>
    </div>
    <div class="detail-images">
      <img id="detailImage" src="" alt="">
    </div>
    <div class="detail-content">
      <div class="detail-price" id="detailPrice"></div>
      <h3 class="detail-title" id="detailTitle"></h3>
      <p class="detail-meta" id="detailMeta"></p>
      <div class="detail-actions">
        <button class="btn btn-primary" onclick="contactSeller()">Message Seller</button>
        <button class="btn btn-secondary" onclick="makeOffer()">Make Offer</button>
      </div>
      <div class="seller-card">
        <div class="seller-avatar" id="sellerAvatar"></div>
        <div class="seller-info">
          <h4 id="sellerName"></h4>
          <p>Member since 2024 ‚Ä¢ Verified</p>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="toast" id="toast"></div>
<script>
const users = {
  'u1': { name: 'John Smith', initials: 'JS' },
  'u2': { name: 'Sarah Johnson', initials: 'SJ' },
  'u3': { name: 'Mike Williams', initials: 'MW' },
  'u4': { name: 'Emily Brown', initials: 'EB' },
  'u5': { name: 'David Lee', initials: 'DL' },
};
const sampleListings = [
  { id: '1', user_id: 'u1', title: 'iPhone 15 Pro Max 256GB', price: 950, category: 'electronics', condition: 'like_new', location: 'New York, NY', image: 'https://images.unsplash.com/photo-1592899677977-9c10ca588bbd?w=400&h=300&fit=crop' },
  { id: '2', user_id: 'u2', title: 'MacBook Pro M3 14"', price: 1850, category: 'electronics', condition: 'like_new', location: 'Los Angeles, CA', image: 'https://images.unsplash.com/photo-1611186871348-b1ce696e52c9?w=400&h=300&fit=crop' },
  { id: '3', user_id: 'u3', title: 'PS5 Digital Edition - Brand New', price: 380, category: 'electronics', condition: 'new', location: 'Chicago, IL', image: 'https://images.unsplash.com/photo-1607853202273-797f1c22a38e?w=400&h=300&fit=crop' },
  { id: '4', user_id: 'u4', title: '2023 Toyota Camry LE', price: 24000, category: 'vehicles', condition: 'good', location: 'Miami, FL', image: 'https://images.unsplash.com/photo-1621007947382-bb3c3994e3fb?w=400&h=300&fit=crop' },
  { id: '5', user_id: 'u5', title: 'Herman Miller Aeron Chair', price: 850, category: 'furniture', condition: 'good', location: 'Seattle, WA', image: 'https://images.unsplash.com/photo-1580480055273-228ff5398ef7?w=400&h=300&fit=crop' },
  { id: '6', user_id: 'u1', title: 'Nike Air Jordan 1 - Size 10', price: 180, category: 'clothing', condition: 'like_new', location: 'Boston, MA', image: 'https://images.unsplash.com/photo-1542291026-7eec264c27ff?w=400&h=300&fit=crop' },
  { id: '7', user_id: 'u2', title: 'Samsung 65" 4K Smart TV', price: 650, category: 'electronics', condition: 'good', location: 'Denver, CO', image: 'https://images.unsplash.com/photo-1593359677879-a4bb92f829d1?w=400&h=300&fit=crop' },
  { id: '8', user_id: 'u3', title: 'Vintage Wooden Dining Table', price: 420, category: 'furniture', condition: 'fair', location: 'Portland, OR', image: 'https://images.unsplash.com/photo-1617806118233-18e1de247200?w=400&h=300&fit=crop' },
  { id: '9', user_id: 'u4', title: 'Canon EOS R5 Camera', price: 2800, category: 'electronics', condition: 'like_new', location: 'San Francisco, CA', image: 'https://images.unsplash.com/photo-1516035069371-29a1b244cc32?w=400&h=300&fit=crop' },
  { id: '10', user_id: 'u5', title: 'Peloton Bike+', price: 1200, category: 'sports', condition: 'like_new', location: 'Austin, TX', image: 'https://images.unsplash.com/photo-1591741535018-3b0cc59f7fcd?w=400&h=300&fit=crop' },
  { id: '11', user_id: 'u1', title: 'PlayStation VR2 Headset', price: 450, category: 'electronics', condition: 'new', location: 'Phoenix, AZ', image: 'https://images.unsplash.com/photo-1622979135225-d2ba269cf1ac?w=400&h=300&fit=crop' },
  { id: '12', user_id: 'u2', title: 'Leather Sofa - 3 Seater', price: 750, category: 'furniture', condition: 'good', location: 'Atlanta, GA', image: 'https://images.unsplash.com/photo-1555041469-a586c61ea9bc?w=400&h=300&fit=crop' },
];
let allListings = [...sampleListings];
let currentCategory = '';
let searchQuery = '';
let savedItems = JSON.parse(localStorage.getItem('savedItems') || '[]');
let myListings = JSON.parse(localStorage.getItem('myListings') || '[]');
let currentPage = 'browse';
let selectedListing = null;
function showToast(msg) {
  const t = document.getElementById('toast');
  t.textContent = msg;
  t.classList.add('show');
  setTimeout(() => t.classList.remove('show'), 3000);
}
function renderListings() {
  let filtered = [...allListings];
  if (currentCategory) filtered = filtered.filter(l => l.category === currentCategory);
  if (searchQuery) {
    const q = searchQuery.toLowerCase();
    filtered = filtered.filter(l => l.title.toLowerCase().includes(q) || l.location?.toLowerCase().includes(q));
  }
  if (currentPage === 'saved') filtered = filtered.filter(l => savedItems.includes(l.id));
  else if (currentPage === 'listings') filtered = myListings;
  const grid = document.getElementById('listingsGrid');
  if (filtered.length === 0) {
    const empty = currentPage === 'saved' ? { icon: '‚ù§Ô∏è', title: 'No saved items', desc: 'Save items you like' } : currentPage === 'listings' ? { icon: 'üì¶', title: 'No listings yet', desc: 'Create your first listing' } : { icon: 'üîç', title: 'No items found', desc: 'Try adjusting your filters' };
    grid.innerHTML = `<div class="empty-state" style="grid-column:1/-1"><div class="empty-icon">${empty.icon}</div><div class="empty-title">${empty.title}</div><div class="empty-desc">${empty.desc}</div></div>`;
    return;
  }
  grid.innerHTML = filtered.map(l => {
    const user = users[l.user_id] || { name: 'User', initials: 'U' };
    return `<div class="listing-card" onclick="openDetail('${l.id}')"><div class="card-image"><img src="${l.image}" alt="${l.title}" loading="lazy"><button class="card-save ${savedItems.includes(l.id) ? 'saved' : ''}" onclick="event.stopPropagation(); toggleSave('${l.id}')">${savedItems.includes(l.id) ? '‚ù§Ô∏è' : 'ü§ç'}</button></div><div class="card-content"><div class="card-price">$${l.price.toLocaleString()}</div><div class="card-title">${l.title}</div><div class="card-meta">${l.location}</div></div></div>`;
  }).join('');
}
function setCategory(cat) {
  currentCategory = cat;
  document.querySelectorAll('.category-chip').forEach((c, i) => {
    const cats = ['', 'electronics', 'vehicles', 'clothing', 'furniture', 'home', 'sports', 'toys'];
    c.classList.toggle('active', cats[i] === cat);
  });
  renderListings();
}
function filterListings() {
  searchQuery = document.getElementById('searchInput').value;
  renderListings();
}
function showPage(page) {
  currentPage = page;
  renderListings();
}
function toggleSave(id) {
  if (savedItems.includes(id)) savedItems = savedItems.filter(i => i !== id);
  else savedItems.push(id);
  localStorage.setItem('savedItems', JSON.stringify(savedItems));
  renderListings();
}
function openCreateModal() { document.getElementById('createModal').classList.add('active'); }
function closeCreateModal() { document.getElementById('createModal').classList.remove('active'); }
function toggleFilter(btn) { btn.classList.toggle('active'); }
function createListing() {
  const title = document.getElementById('listingTitle').value.trim();
  const price = document.getElementById('listingPrice').value;
  const category = document.getElementById('listingCategory').value;
  if (!title || !price || !category) { showToast('Please fill in required fields'); return; }
  const newListing = { id: 'u' + Date.now(), user_id: 'u1', title, price: parseInt(price), category, condition: document.getElementById('listingCondition').value || 'good', location: document.getElementById('listingLocation').value || 'Unknown', description: document.getElementById('listingDescription').value, image: 'https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=400&h=300&fit=crop' };
  myListings.push(newListing);
  allListings.unshift(newListing);
  localStorage.setItem('myListings', JSON.stringify(myListings));
  showToast('Listing posted!');
  closeCreateModal();
  renderListings();
  document.getElementById('listingTitle').value = '';
  document.getElementById('listingPrice').value = '';
  document.getElementById('listingDescription').value = '';
}
function openDetail(id) {
  selectedListing = allListings.find(l => l.id === id);
  if (!selectedListing) return;
  const user = users[selectedListing.user_id] || { name: 'User', initials: 'U' };
  document.getElementById('detailImage').src = selectedListing.image;
  document.getElementById('detailPrice').textContent = '$' + selectedListing.price.toLocaleString();
  document.getElementById('detailTitle').textContent = selectedListing.title;
  document.getElementById('detailMeta').textContent = `${selectedListing.location} ‚Ä¢ ${selectedListing.condition || 'Used'}`;
  document.getElementById('sellerAvatar').textContent = user.initials;
  document.getElementById('sellerName').textContent = user.name;
  document.getElementById('detailModal').classList.add('active');
}
function closeDetail() { document.getElementById('detailModal').classList.remove('active'); }
function contactSeller() { showToast('Opening chat...'); }
function makeOffer() { const offer = prompt('Enter your offer:'); if (offer) showToast('Offer sent: $' + offer); }
renderListings();
</script>
</body>
</html>